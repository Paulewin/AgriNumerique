---
title: "Caractéristiques socio démographiques"
author: "Paule DENAKPO"
date: "`r Sys.Date()`"
output: 
  html_document: 
    toc: true
    toc_depth: 4
    number_sections: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```



```{r, echo=FALSE}
library(readr)
simulation <- read.csv("Simulation_AgriN.csv")
simulation$sexe <- as.factor(simulation$sexe)
simulation$age <- as.factor(simulation$age)
simulation$etude <- as.factor(simulation$etude)
simulation$vilage <- as.factor(simulation$vilage)
simulation$commune <- as.factor(simulation$commune)
simulation$type_agri <- as.factor(simulation$type_agri)
simulation$culture1 <- as.factor(simulation$culture1)
simulation$culture2 <- as.factor(simulation$culture2)
simulation$culture3 <- as.factor(simulation$culture3)
simulation$unite_superficie_maïs <- as.factor(simulation$unite_superficie_maïs)
simulation$unite_superficie_total <- as.factor(simulation$unite_superficie_total)
simulation$expérience <- as.factor(simulation$expérience)
simulation$phenomene_clima_obs <- as.factor(simulation$phenomene_clima_obs)
simulation$liste_phenomene_clima_obs <- as.factor(simulation$liste_phenomene_clima_obs)
simulation$moyen_gestion_risques <- as.factor(simulation$moyen_gestion_risques)
simulation$moyen1 <- as.factor(simulation$moyen1)
simulation$Moyen2 <- as.factor(simulation$Moyen2)
simulation$Moyen3 <- as.factor(simulation$Moyen3)
simulation$possession_telephone <- as.factor(simulation$possession_telephone)
simulation$acces_internet <- as.factor(simulation$acces_internet)
simulation$Utilisation_outils_numeriques <- as.factor(simulation$Utilisation_outils_numeriques)
simulation$precisez_lesquels <- as.factor(simulation$precisez_lesquels)
simulation$frequence_appli_mobiles <- as.factor(simulation$frequence_appli_mobiles)
simulation$frequence_plateformes_web. <- as.factor(simulation$frequence_plateformes_web.)
simulation$frequence_SMS_alerte.pretoce. <- as.factor(simulation$frequence_SMS_alerte.pretoce.)
simulation$frequence_reseaux_sociaux.agricoles <- as.factor(simulation$frequence_reseaux_sociaux.agricoles)
simulation$frequence_autres_outils <- as.factor(simulation$frequence_autres_outils)
simulation$obstacles_au_numerique <- as.factor(simulation$obstacles_au_numerique)
simulation$informations_souhaitee_recevoir <- as.factor(simulation$informations_souhaitee_recevoir)
simulation$forme_reception_préfere <- as.factor(simulation$forme_reception_préfere)
simulation$langues_adaptes <- as.factor(simulation$langues_adaptes)
simulation$Langue_locale_majoritaire <- as.factor(simulation$Langue_locale_majoritaire)
simulation$fonctionalite_application <- as.factor(simulation$fonctionalite_application)
simulation$caracteristique_principale_application <- as.factor(simulation$caracteristique_principale_application)
simulation$gestionnaire <- as.factor(simulation$gestionnaire)
simulation$appli_numerique_gere_aleas_climatiques <- as.factor(simulation$appli_numerique_gere_aleas_climatiques)
simulation$conditions_utilisation <- as.factor(simulation$conditions_utilisation)
simulation$contribution_symbolique <- as.factor(simulation$contribution_symbolique)
simulation$suggestions <- as.factor(simulation$suggestions)
```

# Description globale des caractéristiques


```{r, include=FALSE}
library(gtsummary)
library(dplyr)


```



```{r, echo=FALSE}
tableau_general <- simulation %>%
  select(sexe, age, etude, commune, type_agri, culture1, superficie_total_finale) %>%
  tbl_summary(
    statistic = list(
      all_continuous() ~ "{mean} ({sd}) [min - max]", # Stats complètes pour l'âge et la surface
      all_categorical() ~ "{n} ({p}%)"
    ),
    label = list(
      sexe ~ "Genre",
      age ~ "Âge (ans)",
      etude ~ "Niveau d'instruction",
      commune ~ "Localisation",
      type_agri ~ "Système de production",
      culture1 ~ "Culture principale",
      superficie_total_finale ~ "Superficie exploitée"
    ),
    missing = "ifany" # Affiche s'il y a des données manquantes
  ) %>%
  bold_labels() %>%
  modify_caption("**Tableau : Caractéristiques générales de l'échantillon**")

# Affichage
tableau_general
```




 Les communes les plus représentées sont Misserete (41,18 %), Dogbo et Parakou (17,65 % chacune), tandis que Adjohoun, Bonou, Bopa et Ouassa-Péhunco totalisent chacune 5,88 %. La majorité des participants sont des hommes (82,35 %), contre 17,65 % de femmes. L’agriculture mixte domine avec 64,71 % des répondants, contre 35,29 % pour l’agriculture pluviale.



# Analyse du Système de Production


## les pratiques dominantes

```{r, echo=FALSE}

library(ggplot2)
ggplot(simulation, aes(x = commune, fill = culture1)) +
  geom_bar(position = "fill") +
  labs(title = "Spécialisation des cultures par commune", y = "Proportion") +
  theme_light()

table_croise <- table(simulation$commune, simulation$culture1)
test_fisher <- fisher.test(table_croise, simulate.p.value = TRUE)
print(test_fisher)
```

il n'y a pas de relation entre la commune et la culture pratiquée. Cela signifie que le choix de la culture ne dépend pas de la localisation géographique de l'agriculteur. Un agriculteur à Dogbo a statistiquement les mêmes chances de cultiver de l'ananas qu'un agriculteur à Parakou. Puisque la culture ne change pas selon la commune, il n'est pas utile de créer des solutions spécifiques à chaque région. Une solution numérique "générique" pour les cultures peut fonctionner partout.

## Superficie exploitée
```{r, echo=FALSE}

ggplot(simulation, aes(x = sexe, y = superficie_total_finale, fill = sexe)) +
  geom_boxplot() +
  labs(title = "Superficie exploitée selon le sexe")

table_croise <- table(simulation$sexe, simulation$superficie_total_finale)
test_fisher <- fisher.test(table_croise, simulate.p.value = TRUE)
print(test_fisher)
```

Il n'y a aucun lien statistique entre le sexe de l'agriculteur et la superficie de son exploitation. Les femmes ne cultivent pas des surfaces significativement plus petites (ou plus grandes) que les hommes. Pour la solution numérique, cela implique que les fonctionnalités liées à l'arpentage ou à la gestion parcellaire peuvent être standardisées sans distinction de genr

## type d'agriculture et niveau d'étude
```{r, echo=FALSE}

ggplot(simulation, aes(x = etude, fill = type_agri)) +
  geom_bar(position = "fill") + # "fill" crée des barres de hauteur égale (100%)
  scale_y_continuous(labels = scales::percent) + # Affiche des pourcentages en Y
  labs(
    title = "Répartition du type d'agriculture selon le niveau d'étude",
    x = "Niveau d'étude",
    y = "Proportion (%)",
    fill = "Type d'agriculture"
  ) +
  theme_minimal() +
  theme(axis.text.x = element_text(angle = 45, hjust = 1)) # Incline les textes si besoin

table_croise <- table(simulation$etude, simulation$type_agri)
test_fisher <- fisher.test(table_croise, simulate.p.value = TRUE)
print(test_fisher)
```

Le test de Fisher entre le niveau d'étude et le type d'agriculture ($p = 0,10$) indique que le niveau d'étude influence un peu le type d'agriculture. Cela suggère que si l'instruction joue un rôle dans l'adoption de techniques agricoles spécifiques, elle n'est pas le seul moteur du changement.l'outil pourrait proposer des modules de formation aux agriculteurs.


# Analyse factorielle avec les profils

```{r, echo=FALSE}
# Création de 3 catégories basées sur les quantiles (33%, 66%)
simulation$superficie1 <- cut(simulation$superficie_total_finale, 
                         breaks = quantile(simulation$superficie_total_finale, probs = seq(0, 1, 1/3), na.rm = TRUE),
                         labels = c("Petite", "Moyenne", "Grande"),
                         include.lowest = TRUE)

simulation$age <- as.factor(simulation$age)

library(FactoMineR)
library(factoextra)

simulation_analyse <- simulation %>% 
  select(sexe, age, etude, commune,           # Profil
         culture1, type_agri, superficie1) # Système de production

# Lancement de l'ACM
res.mca <- MCA(simulation_analyse, graph = FALSE)

# Visualisation des relations
fviz_mca_var(res.mca, 
             repel = TRUE, 
             choice = "var.cat", # Visualise les catégories
             shape.var = 15,     # Carrés pour les points
             col.var = "blue",
             ggtheme = theme_minimal())
```
L'ACM montre une structuration de l'espace de production selon le profil socio-économique.
Le segment A (Haut-Droite)
Profil : Jeunes (25-40 ans), niveau secondaire, superficies moyennes.

Le segment B (Bas-Droite)
Profil : Niveau supérieur, forte présence de femmes, cultures à valeur ajoutée (Ananas, Manioc).

Le segment C (Gauche)
Profil : Pas d'instruction, grandes surfaces de palmier/tomates ou agriculture pluviale.

# Conclusion partielle
L'analyse statistique, bien que révélant une certaine homogénéité des pratiques à travers les tests de Fisher, souligne par l'ACM une structuration de l'espace agricole où le capital scolaire commence à orienter les choix techniques. Cette absence de clivages rigides prouve que les systèmes de production ne sont pas dictés par la fatalité du profil social, mais restent ouverts à une transformation par l'outil numérique. Dès lors, la solution proposée doit être universelle dans ses fonctions mais inclusive dans son ergonomie, afin de convertir ces tendances latentes en une adoption généralisée des meilleures pratiques agricoles.